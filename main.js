!function(){"use strict";const e={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_active"};function t(e,t){e.disabled=!0,e.classList.add(t.inactiveButtonClass)}const o=(e,t,o)=>{const n=e.querySelector(`#${t.id}-error`);t.classList.remove(o.inputErrorClass),n.classList.remove(o.errorClass),n.textContent=""},n=document.querySelector(".cards__list"),r=document.querySelector("#card-template");function a(e){"Escape"===e.key&&l(document.querySelector(".modal_opened"))}function c(e){e.target.id.includes("modal")&&l(e.target)}function s(e){e.classList.add("modal_opened"),window.addEventListener("keydown",a,!1),e.addEventListener("click",c,!1)}function l(e){e.classList.remove("modal_opened"),window.removeEventListener("keydown",a,!1),e.removeEventListener("click",c,!1)}[{name:"Val Thorens",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/1-photo-by-moritz-feldmann-from-pexels.jpg"},{name:"Restaurant terrace",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/2-photo-by-ceiline-from-pexels.jpg"},{name:"An outdoor cafe",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/3-photo-by-tubanur-dogan-from-pexels.jpg"},{name:"A very long bridge, over the forest and through the trees",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/4-photo-by-maurice-laschet-from-pexels.jpg"},{name:"Tunnel with morning light",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/5-photo-by-van-anh-nguyen-from-pexels.jpg"},{name:"Mountain house",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/spots/6-photo-by-moritz-feldmann-from-pexels.jpg"}].forEach((e=>{b(e)}));const i=document.querySelector(".profile__edit-btn"),u=document.querySelector("#edit-modal"),d=u.querySelector(".modal__close"),m=document.querySelector(".profile__name"),p=document.querySelector(".profile__description"),_=document.querySelector("#profile-name-input"),v=document.querySelector("#profile-description-input"),f=u.querySelector(".modal__form");const y=document.querySelector(".profile__add-btn"),S=document.querySelector("#add-card-modal"),q=S.querySelector(".modal__close"),g=S.querySelector("#add-card-link-input"),w=S.querySelector("#add-card-caption-input");function b(e){n.prepend(function(e){const t=r.content.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__image");return o.setAttribute("src",e.link),o.setAttribute("alt",e.name),t.querySelector(".card__title").textContent=e.name,t.querySelector("#like-btn").addEventListener("click",k,!0),t.querySelector(".card__delete-btn").addEventListener("click",L,!0),o.addEventListener("click",A,!0),t}(e))}const h=S.querySelector(".modal__form");function k(e){e.preventDefault(),e.target.classList.toggle("card__like-btn__active")}function L(e){e.preventDefault(),e.target.closest(".card").remove()}const E=document.querySelector("#preview-modal"),C=E.querySelector(".modal__image"),x=E.querySelector(".modal__caption"),z=E.querySelector(".modal__close_type_preview");function A(e){e.preventDefault();const t=e.target;C.src=t.src;const o=t.closest(".card").querySelector(".card__title");C.alt=o.textContent,x.textContent=o.textContent,s(E)}var j;i.addEventListener("click",(()=>{var t;s(u),_.value=m.textContent,v.value=p.textContent,t=f,[_,v].forEach((n=>{o(t,n,e)}))})),d.addEventListener("click",(()=>l(u))),y.addEventListener("click",(()=>s(S))),q.addEventListener("click",(()=>l(S))),z.addEventListener("click",(()=>l(E))),f.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=_.value,p.textContent=v.value,l(u)}),!0),h.addEventListener("submit",(function(o){o.preventDefault();const n={name:w.value,link:g.value};o.target.reset(),t(o.target.querySelector(e.submitButtonSelector),e),b(n),l(S)}),!0),j=e,document.querySelectorAll(j.formSelector).forEach((n=>{((n,r)=>{const a=Array.from(n.querySelectorAll(r.inputSelector)),c=n.querySelector(r.submitButtonSelector);a.forEach((r=>{r.addEventListener("input",(()=>{((t,n)=>{n.validity.valid?o(t,n,e):((e,t,o,n)=>{const r=e.querySelector(`#${t.id}-error`);t.classList.add(n.inputErrorClass),r.textContent=o,r.classList.add(n.errorClass)})(t,n,n.validationMessage,e)})(n,r),((o,n)=>{var r,a;(e=>e.some((e=>!e.validity.valid)))(o)?t(n,e):(a=e,(r=n).disabled=!1,r.classList.remove(a.inactiveButtonClass))})(a,c)}))}))})(n,e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQU8sTUFBTUEsRUFBbUIsQ0FDOUJDLGFBQWMsZUFDZEMsY0FBZSxnQkFDZkMscUJBQXNCLHFCQUN0QkMsb0JBQXFCLDZCQUNyQkMsZ0JBQWlCLDBCQUNqQkMsV0FBWSx1QkFTUCxTQUFTQyxFQUFjQyxFQUFRQyxHQUNwQ0QsRUFBT0UsVUFBVyxFQUNsQkYsRUFBT0csVUFBVUMsSUFBSUgsRUFBT0wsb0JBQzlCLENBUUEsTUFRTVMsRUFBaUJBLENBQUNDLEVBQWFDLEVBQWNOLEtBQ2pELE1BQU1PLEVBQWVGLEVBQVlHLGNBQWMsSUFBSUYsRUFBYUcsWUFFaEVILEVBQWFKLFVBQVVRLE9BQU9WLEVBQU9KLGlCQUNyQ1csRUFBYUwsVUFBVVEsT0FBT1YsRUFBT0gsWUFDckNVLEVBQWFJLFlBQWMsRUFBRSxFQzFCekJDLEVBQVlDLFNBQVNMLGNBQWMsZ0JBQ25DTSxFQUFlRCxTQUFTTCxjQUFjLGtCQWlDNUMsU0FBU08sRUFBYUMsR0FDTCxXQUFaQSxFQUFJQyxLQUVMQyxFQURjTCxTQUFTTCxjQUFjLGlCQUd6QyxDQUVBLFNBQVNXLEVBQWNILEdBQ2xCQSxFQUFJSSxPQUFPWCxHQUFHWSxTQUFTLFVBQ3hCSCxFQUFXRixFQUFJSSxPQUVuQixDQUdBLFNBQVNFLEVBQVVDLEdBQ2pCQSxFQUFNckIsVUFBVUMsSUFBSSxnQkFHcEJxQixPQUFPQyxpQkFBaUIsVUFBV1YsR0FBYyxHQUdqRFEsRUFBTUUsaUJBQWlCLFFBQVNOLEdBQWMsRUFDaEQsQ0FFQSxTQUFTRCxFQUFXSyxHQUNsQkEsRUFBTXJCLFVBQVVRLE9BQU8sZ0JBQ3ZCYyxPQUFPRSxvQkFBb0IsVUFBV1gsR0FBYyxHQUNwRFEsRUFBTUcsb0JBQW9CLFFBQVNQLEdBQWUsRUFDcEQsQ0F4RXFCLENBQ25CLENBQUVRLEtBQU0sY0FBZUMsS0FBTSwySEFDN0IsQ0FBRUQsS0FBTSxxQkFBc0JDLEtBQU0sbUhBQ3BDLENBQUVELEtBQU0sa0JBQW1CQyxLQUFNLHlIQUNqQyxDQUFFRCxLQUFNLDREQUE2REMsS0FBTSwySEFDM0UsQ0FBRUQsS0FBTSw0QkFBNkJDLEtBQU0sMEhBQzNDLENBQUVELEtBQU0saUJBQWtCQyxLQUFNLDRIQTZCbkJDLFNBQVFDLElBQ25CQyxFQUFtQkQsRUFBSyxJQXlDNUIsTUFBTUUsRUFBb0JuQixTQUFTTCxjQUFjLHNCQUMzQ3lCLEVBQVlwQixTQUFTTCxjQUFjLGVBQ25DMEIsRUFBdUJELEVBQVV6QixjQUFjLGlCQUcvQzJCLEVBQXFCdEIsU0FBU0wsY0FBYyxrQkFDNUM0QixFQUFvQnZCLFNBQVNMLGNBQWMseUJBQzNDNkIsRUFBWXhCLFNBQVNMLGNBQWMsdUJBQ25DOEIsRUFBV3pCLFNBQVNMLGNBQWMsOEJBRWxDK0IsRUFBcUJOLEVBQVV6QixjQUFjLGdCQW9CbkQsTUFBTWdDLEVBQWdCM0IsU0FBU0wsY0FBYyxxQkFDdkNpQyxFQUFlNUIsU0FBU0wsY0FBYyxtQkFDdENrQyxFQUEwQkQsRUFBYWpDLGNBQWMsaUJBR3JEbUMsRUFBV0YsRUFBYWpDLGNBQWMsd0JBQ3RDb0MsRUFBY0gsRUFBYWpDLGNBQWMsMkJBRy9DLFNBQVN1QixFQUFtQmMsR0FDMUJqQyxFQUFVa0MsUUF4R1osU0FBd0JDLEdBQ3RCLE1BQU1DLEVBQWNsQyxFQUFhbUMsUUFBUXpDLGNBQWMsU0FBUzBDLFdBQVUsR0FDcEVDLEVBQVlILEVBQVl4QyxjQUFjLGdCQWdCNUMsT0FmQTJDLEVBQVVDLGFBQWEsTUFBT0wsRUFBS25CLE1BQ25DdUIsRUFBVUMsYUFBYSxNQUFPTCxFQUFLcEIsTUFDbkNxQixFQUFZeEMsY0FBYyxnQkFBZ0JHLFlBQWNvQyxFQUFLcEIsS0FHdENxQixFQUFZeEMsY0FBYyxhQUNsQ2lCLGlCQUFpQixRQUFTNEIsR0FBdUIsR0FHdkNMLEVBQVl4QyxjQUFjLHFCQUNsQ2lCLGlCQUFpQixRQUFTNkIsR0FBeUIsR0FHcEVILEVBQVUxQixpQkFBaUIsUUFBUThCLEdBQXlCLEdBRXJEUCxDQUNULENBcUZvQlEsQ0FBZVgsR0FDbkMsQ0FFQSxNQUFNWSxFQUFxQmhCLEVBQWFqQyxjQUFjLGdCQTBCdEQsU0FBUzZDLEVBQXNCckMsR0FDN0JBLEVBQUkwQyxpQkFDSjFDLEVBQUlJLE9BQU9sQixVQUFVeUQsT0FBTyx5QkFDOUIsQ0FLQSxTQUFTTCxFQUF3QnRDLEdBQy9CQSxFQUFJMEMsaUJBQ2tCMUMsRUFBSUksT0FDZ0J3QyxRQUFRLFNBRTlCbEQsUUFDdEIsQ0FLQSxNQUFNbUQsRUFBb0JoRCxTQUFTTCxjQUFjLGtCQUMzQ3NELEVBQXNCRCxFQUFrQnJELGNBQWMsaUJBQ3REdUQsRUFBcUJGLEVBQWtCckQsY0FBYyxtQkFDckR3RCxFQUF1QkgsRUFBa0JyRCxjQUFjLDhCQUU3RCxTQUFTK0MsRUFBd0J2QyxHQUMvQkEsRUFBSTBDLGlCQUNKLE1BQU1PLEVBQWVqRCxFQUFJSSxPQUN6QjBDLEVBQW9CSSxJQUFNRCxFQUFhQyxJQUN2QyxNQUNNQyxFQURjRixFQUFhTCxRQUFRLFNBQ1RwRCxjQUFjLGdCQUM5Q3NELEVBQW9CTSxJQUFNRCxFQUFZeEQsWUFDdENvRCxFQUFtQnBELFlBQWN3RCxFQUFZeEQsWUFDN0NXLEVBQVV1QyxFQUNaLENEekdpQzdELE1DcUhqQ2dDLEVBQWtCUCxpQkFBaUIsU0FBUyxLQXRHNUMsSUR4RWlDcEIsRUM4S2tCaUIsRUFBVVcsR0FyRzNESSxFQUFVZ0MsTUFBUWxDLEVBQW1CeEIsWUFDckMyQixFQUFTK0IsTUFBUWpDLEVBQWtCekIsWUQxRUpOLEVDNkVma0MsRUFBb0IsQ0FBQ0YsRUFBV0MsR0Q1RXRDVCxTQUFTeUMsSUFDakJsRSxFQUFlQyxFQUFhaUUsRUFBTy9FLEVBQWlCLEdDNEttQyxJQUMzRjJDLEVBQXFCVCxpQkFBaUIsU0FBUyxJQUFNUCxFQUFXZSxLQUNoRU8sRUFBY2YsaUJBQWlCLFNBQVMsSUFBT0gsRUFBVW1CLEtBQ3pEQyxFQUF3QmpCLGlCQUFpQixTQUFTLElBQU1QLEVBQVd1QixLQUNuRXVCLEVBQXFCdkMsaUJBQWlCLFNBQVMsSUFBS1AsRUFBVzJDLEtBQy9EdEIsRUFBbUJkLGlCQUFpQixVQW5HcEMsU0FBaUNULEdBQy9CQSxFQUFJMEMsaUJBQ0p2QixFQUFtQnhCLFlBQWMwQixFQUFVZ0MsTUFDM0NqQyxFQUFrQnpCLFlBQWMyQixFQUFTK0IsTUFDekNuRCxFQUFXZSxFQUNiLElBOEZ1RSxHQUN2RXdCLEVBQW1CaEMsaUJBQWlCLFVBM0VwQyxTQUFpQ1QsR0FDL0JBLEVBQUkwQyxpQkFDSixNQUFNYSxFQUFnQixDQUFDNUMsS0FBTWlCLEVBQVl5QixNQUFPekMsS0FBTWUsRUFBUzBCLE9BQy9EckQsRUFBSUksT0FBT29ELFFBRVgxRSxFQUR5QmtCLEVBQUlJLE9BQU9aLGNBQWNqQixFQUFpQkcsc0JBQ25DSCxHQUNoQ3dDLEVBQW1Cd0MsR0FDbkJyRCxFQUFXdUIsRUFFYixJQWtFdUUsR0QzSHRDekMsRUM2SGhCVCxFRDVIRXNCLFNBQVM0RCxpQkFBaUJ6RSxFQUFPUixjQUV6Q3FDLFNBQVN4QixJQWZNcUUsRUFBQ3JFLEVBQWFMLEtBQ3RDLE1BQU0yRSxFQUFZQyxNQUFNQyxLQUFLeEUsRUFBWW9FLGlCQUFpQnpFLEVBQU9QLGdCQUMzRHFGLEVBQWdCekUsRUFBWUcsY0FBY1IsRUFBT04sc0JBRXZEaUYsRUFBVTlDLFNBQVN2QixJQUNqQkEsRUFBYW1CLGlCQUFpQixTQUFTLEtBNUJoQnNELEVBQUMxRSxFQUFhQyxLQUNsQ0EsRUFBYTBFLFNBQVNDLE1BR3pCN0UsRUFBZUMsRUFBYUMsRUFBY2YsR0FwQnZCMkYsRUFBQzdFLEVBQWFDLEVBQWM2RSxFQUFjbkYsS0FDL0QsTUFBTU8sRUFBZUYsRUFBWUcsY0FBYyxJQUFJRixFQUFhRyxZQUVoRUgsRUFBYUosVUFBVUMsSUFBSUgsRUFBT0osaUJBQ2xDVyxFQUFhSSxZQUFjd0UsRUFDM0I1RSxFQUFhTCxVQUFVQyxJQUFJSCxFQUFPSCxXQUFXLEVBYTNDcUYsQ0FBZTdFLEVBQWFDLEVBQWNBLEVBQWE4RSxrQkFBbUI3RixFQUc1RSxFQXdCSXdGLENBQW1CMUUsRUFBYUMsR0FmWitFLEVBQUNWLEVBQVdHLEtBOUN0QyxJQUFzQi9FLEVBQVFDLEVBd0NMMkUsSUFDaEJBLEVBQVVXLE1BQU1oRixJQUNiQSxFQUFhMEUsU0FBU0MsUUFNNUJNLENBQWdCWixHQUNsQjdFLEVBQWNnRixFQUFldkYsSUFqREhTLEVBbURFVCxHQW5EVlEsRUFtREwrRSxHQWxEUjdFLFVBQVcsRUFDbEJGLEVBQU9HLFVBQVVRLE9BQU9WLEVBQU9MLHFCQWtEL0IsRUFVSTBGLENBQWtCVixFQUFXRyxFQUFjLEdBQzNDLEdBQ0YsRUFPQUosQ0FBa0JyRSxFQUFZZCxFQUFpQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9zcG90cy8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnRuXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ0bl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX2FjdGl2ZVwiXHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBlbmFibGVCdXR0b24oYnV0dG9uLCBjb25maWcpe1xyXG4gIGJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVCdXR0b24oYnV0dG9uLCBjb25maWcpe1xyXG4gIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRWYWxpZGF0aW9uIChmb3JtRWxlbWVudCwgaW5wdXRMaXN0KXtcclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIC8vY29uc29sZS5sb2coaW5wdXRFbGVtZW50LmlkKTtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gIC8vY29uc29sZS5sb2coaW5wdXRFbGVtZW50KTtcclxuICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrSW5wdXRWYWxpZGl0eSA9IChmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgIHNob3dJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhpZGVJbnB1dEVycm9yKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhhc0ludmFsaWRJbnB1dCA9IChpbnB1dExpc3QpID0+IHtcclxuICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCB0b2dnbGVCdXR0b25TdGF0ZSA9IChpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpID0+IHtcclxuICAvL2NvbnNvbGUubG9nKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKTtcclxuICBpZiAoaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgIGRpc2FibGVCdXR0b24oYnV0dG9uRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGVuYWJsZUJ1dHRvbihidXR0b25FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBzZXRFdmVudExpc3RlbmVycyA9IChmb3JtRWxlbWVudCwgY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCk9PntcclxuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT57XHJcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50KTtcclxuICAgICAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3QgZm9ybUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xyXG5cclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybUVsZW1lbnQsdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfSlcclxuXHJcbn07XHJcblxyXG4iLCJpbXBvcnQgeyBlbmFibGVWYWxpZGF0aW9uLCB2YWxpZGF0aW9uQ29uZmlnLCByZXNldFZhbGlkYXRpb24sIGRpc2FibGVCdXR0b259IGZyb20gXCIuLi9zY3JpcHRzL3ZhbGlkYXRpb24uanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7IG5hbWU6IFwiVmFsIFRob3JlbnNcIiwgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL3Nwb3RzLzEtcGhvdG8tYnktbW9yaXR6LWZlbGRtYW5uLWZyb20tcGV4ZWxzLmpwZ1wiIH0sXHJcbiAgeyBuYW1lOiBcIlJlc3RhdXJhbnQgdGVycmFjZVwiLCBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMi1waG90by1ieS1jZWlsaW5lLWZyb20tcGV4ZWxzLmpwZ1wiIH0sXHJcbiAgeyBuYW1lOiBcIkFuIG91dGRvb3IgY2FmZVwiLCBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvMy1waG90by1ieS10dWJhbnVyLWRvZ2FuLWZyb20tcGV4ZWxzLmpwZ1wiIH0sXHJcbiAgeyBuYW1lOiBcIkEgdmVyeSBsb25nIGJyaWRnZSwgb3ZlciB0aGUgZm9yZXN0IGFuZCB0aHJvdWdoIHRoZSB0cmVlc1wiLCBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNC1waG90by1ieS1tYXVyaWNlLWxhc2NoZXQtZnJvbS1wZXhlbHMuanBnXCIgfSxcclxuICB7IG5hbWU6IFwiVHVubmVsIHdpdGggbW9ybmluZyBsaWdodFwiLCBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNS1waG90by1ieS12YW4tYW5oLW5ndXllbi1mcm9tLXBleGVscy5qcGdcIiB9LFxyXG4gIHsgbmFtZTogXCJNb3VudGFpbiBob3VzZVwiLCBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvc3BvdHMvNi1waG90by1ieS1tb3JpdHotZmVsZG1hbm4tZnJvbS1wZXhlbHMuanBnXCIgfVxyXG5dO1xyXG5cclxuLy9CdWlsZCBjYXJkc1xyXG5jb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xyXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcblxyXG5mdW5jdGlvbiBnZXRDYXJkRWxlbWVudChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY2FyZEltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBkYXRhLmxpbmspO1xyXG4gIGNhcmRJbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgZGF0YS5uYW1lKTtcclxuICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG5cclxuICAvL0FkZCBMaWtlLUJ1dHRvbiBFdmVudCBMaXN0ZW5lclxyXG4gIGNvbnN0IG5ld0NhcmRMaWtlQnRuID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaWtlLWJ0blwiKTtcclxuICBuZXdDYXJkTGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTGlrZUJ1dHRvbkNsaWNrLCB0cnVlKTtcclxuXHJcbiAgLy9BZGQgRGVsZXRlLUJ1dHRvbiBFdmVudCBMaXN0ZW5lclxyXG4gIGNvbnN0IG5ld0NhcmREZWxldGVCdG4gPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XHJcbiAgbmV3Q2FyZERlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlRGVsZXRlQnV0dG9uQ2xpY2ssIHRydWUpO1xyXG5cclxuICAvL0FkZCBQcmV2aWV3LU1vZGFsIEV2ZW50IExpc3RlbmVyXHJcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGhhbmRsZUltYWdlUHJldmlld01vZGFsLCB0cnVlKTtcclxuXHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2FyZHMoKSB7XHJcbiAgaW5pdGlhbENhcmRzLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgICBhZGROZXdDYXJkVG9TY3JlZW4oY2FyZCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmdlbmVyYXRlQ2FyZHMoKVxyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG5mdW5jdGlvbiBoYW5kbGVFc2NhcGUoZXZ0KXtcclxuICBpZihldnQua2V5ID09PSBcIkVzY2FwZVwiKXtcclxuICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9vcGVuZWRcIik7XHJcbiAgICBjbG9zZU1vZGFsKG1vZGFsKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU92ZXJsYXkoZXZ0KSB7XHJcbiAgaWYoZXZ0LnRhcmdldC5pZC5pbmNsdWRlcyhcIm1vZGFsXCIpKXtcclxuICAgIGNsb3NlTW9kYWwoZXZ0LnRhcmdldCk7XHJcbiAgfVxyXG59XHJcblxyXG4vL01vZGFsIEZ1bmN0aW9uYWxpdHlcclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuXHJcbiAgLy9DbG9zZSBtb2RhbCBvbiBFc2NhcGUgS2V5ZG93blxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NhcGUsIGZhbHNlKTtcclxuXHJcbiAgLy9DbG9zZSBtb2RhbCBvbiBDbGljayBvdXRzaWRlIG1vZGFsIGNvbnRhaW5lclxyXG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5LGZhbHNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUVzY2FwZSwgZmFsc2UpO1xyXG4gIG1vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVPdmVybGF5LCBmYWxzZSk7XHJcbn1cclxuXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuLy9FZGl0IGFuZCBVcGRhdGUgUHJvZmlsZVxyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcclxuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VcIik7XHJcblxyXG4vL1NlbGVjdGluZyBuYW1lIGFuZCBqb2IgZWxlbWVudHNcclxuY29uc3QgcHJvZmlsZU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlSm9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiKTtcclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtRWxlbWVudCA9IGVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5cclxuZnVuY3Rpb24gZmlsbFByb2ZpbGVJbnB1dHMoKSB7XHJcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50O1xyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZUpvYkVsZW1lbnQudGV4dENvbnRlbnQ7XHJcblxyXG4gIC8vUmVzZXQgVmFsaWRhdGlvbiBvbiBvcGVuIGluIGNhc2UgYmFkIHZhbHVlcyB3ZXJlIGdpdmVuIHByZXZpb3VzbHlcclxuICByZXNldFZhbGlkYXRpb24ocHJvZmlsZUZvcm1FbGVtZW50LCBbbmFtZUlucHV0LCBqb2JJbnB1dF0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBwcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lSW5wdXQudmFsdWU7XHJcbiAgcHJvZmlsZUpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBqb2JJbnB1dC52YWx1ZTtcclxuICBjbG9zZU1vZGFsKGVkaXRNb2RhbCk7XHJcbn1cclxuXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuLy9BZGQgQ2FyZCBNb2RhbFxyXG5jb25zdCBuZXdQb3N0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnRuXCIpO1xyXG5jb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLW1vZGFsXCIpO1xyXG5jb25zdCBhZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbiA9IGFkZENhcmRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuXHJcbi8vR2V0dGluZyBuZXcgY2FyZCBsaW5rIGFuZCBjYXB0aW9uXHJcbmNvbnN0IGNhcmRMaW5rID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbGluay1pbnB1dFwiKTtcclxuY29uc3QgY2FyZENhcHRpb24gPSBhZGRDYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1jYXB0aW9uLWlucHV0XCIpO1xyXG5cclxuLy9BZGQgY2FyZCB0byBTY3JlZW5cclxuZnVuY3Rpb24gYWRkTmV3Q2FyZFRvU2NyZWVuKGNhcmRPYmplY3Qpe1xyXG4gIGNhcmRzTGlzdC5wcmVwZW5kKGdldENhcmRFbGVtZW50KGNhcmRPYmplY3QpKTtcclxufVxyXG5cclxuY29uc3QgYWRkQ2FyZEZvcm1FbGVtZW50ID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdChldnQpe1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IG5ld0NhcmRPYmplY3QgPSB7bmFtZTogY2FyZENhcHRpb24udmFsdWUsIGxpbms6IGNhcmRMaW5rLnZhbHVlfTtcclxuICBldnQudGFyZ2V0LnJlc2V0KCk7XHJcbiAgY29uc3QgY2FyZFN1Ym1pdEJ1dHRvbiA9IGV2dC50YXJnZXQucXVlcnlTZWxlY3Rvcih2YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICBkaXNhYmxlQnV0dG9uKGNhcmRTdWJtaXRCdXR0b24sIHZhbGlkYXRpb25Db25maWcpO1xyXG4gIGFkZE5ld0NhcmRUb1NjcmVlbihuZXdDYXJkT2JqZWN0KTtcclxuICBjbG9zZU1vZGFsKGFkZENhcmRNb2RhbCk7XHJcblxyXG59XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG5cclxuXHJcbi8vQWRkIHJlZCBoZWFydCBpY29uIHRvIHBvc3RcclxuZnVuY3Rpb24gbGlrZVBvc3QoYnV0dG9uKXtcclxuICBidXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnRuX19hY3RpdmVcIik7XHJcbn1cclxuXHJcbi8vUmVtb3ZlIHJlZCBoZWFydCBpY29uIGZyb20gcG9zdFxyXG5mdW5jdGlvbiB1bmxpa2VQb3N0KGJ1dHRvbil7XHJcbiAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19saWtlLWJ0bl9fYWN0aXZlXCIpO1xyXG59XHJcblxyXG4vL0xpa2UgYnV0dG9uIGV2ZW50IGhhbmRsZXJcclxuZnVuY3Rpb24gaGFuZGxlTGlrZUJ1dHRvbkNsaWNrKGV2dCl7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgZXZ0LnRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idG5fX2FjdGl2ZVwiKTtcclxufVxyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4vL0dldHMgYnV0dG9uIGZyb20gY2xpY2sgYWNjZXNzIHBhcmVudCBlbGVtZW50IGFuZCByZW1vdmVzIGZyb20gRE9NXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUJ1dHRvbkNsaWNrKGV2dCl7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgY29uc3QgY2xpY2tlZEJ1dHRvbiA9IGV2dC50YXJnZXQ7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnRUb0RlbGV0ZSA9IGNsaWNrZWRCdXR0b24uY2xvc2VzdChcIi5jYXJkXCIpO1xyXG4gIC8vY29uc29sZS5sb2coY2FyZEVsZW1lbnRUb0RlbGV0ZSk7XHJcbiAgY2FyZEVsZW1lbnRUb0RlbGV0ZS5yZW1vdmUoKTtcclxufVxyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcblxyXG4vL1ByZXZpZXcgTW9kYWwgRnVuY3Rpb25hbGl0eVxyXG5jb25zdCBpbWFnZVByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJldmlldy1tb2RhbFwiKVxyXG5jb25zdCBpbWFnZUVsZW1lbnRPZk1vZGFsID0gaW1hZ2VQcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbmNvbnN0IHRleHRFbGVtZW50T2ZNb2RhbCA9IGltYWdlUHJldmlld01vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NhcHRpb25cIik7XHJcbmNvbnN0IHByZXZpZXdNb2RhbENsb3NlQnRuID0gaW1hZ2VQcmV2aWV3TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2xvc2VfdHlwZV9wcmV2aWV3XCIpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VQcmV2aWV3TW9kYWwoZXZ0KXtcclxuICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBjbGlja2VkSW1hZ2UgPSBldnQudGFyZ2V0O1xyXG4gIGltYWdlRWxlbWVudE9mTW9kYWwuc3JjID0gY2xpY2tlZEltYWdlLnNyYztcclxuICBjb25zdCBjYXJkT2ZJbWFnZSA9IGNsaWNrZWRJbWFnZS5jbG9zZXN0KFwiLmNhcmRcIik7XHJcbiAgY29uc3QgY2FwdGlvblRleHQgPSBjYXJkT2ZJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gIGltYWdlRWxlbWVudE9mTW9kYWwuYWx0ID0gY2FwdGlvblRleHQudGV4dENvbnRlbnQ7XHJcbiAgdGV4dEVsZW1lbnRPZk1vZGFsLnRleHRDb250ZW50ID0gY2FwdGlvblRleHQudGV4dENvbnRlbnQ7XHJcbiAgb3Blbk1vZGFsKGltYWdlUHJldmlld01vZGFsKTtcclxufVxyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbi8vTW9kYWwgVVggZmVhdHVyZXMgZm9yIGNsb3NpbmdcclxuZnVuY3Rpb24gY2xvc2VPbkVzY2FwZShldnQpIHtcclxuICBjb25zb2xlLmxvZyhldnQpO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4vL0V2ZW50IExpc3RlbmVyc1xyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge29wZW5Nb2RhbChlZGl0TW9kYWwpO2ZpbGxQcm9maWxlSW5wdXRzKCk7fSk7XHJcbmVkaXRNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKGVkaXRNb2RhbCkpO1xyXG5uZXdQb3N0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiAgb3Blbk1vZGFsKGFkZENhcmRNb2RhbCkpO1xyXG5hZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChhZGRDYXJkTW9kYWwpKTtcclxucHJldmlld01vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4gY2xvc2VNb2RhbChpbWFnZVByZXZpZXdNb2RhbCkpO1xyXG5wcm9maWxlRm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCwgdHJ1ZSk7XHJcbmFkZENhcmRGb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmRGb3JtU3VibWl0LCB0cnVlKTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZykiXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZGlzYWJsZUJ1dHRvbiIsImJ1dHRvbiIsImNvbmZpZyIsImRpc2FibGVkIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInJlbW92ZSIsInRleHRDb250ZW50IiwiY2FyZHNMaXN0IiwiZG9jdW1lbnQiLCJjYXJkVGVtcGxhdGUiLCJoYW5kbGVFc2NhcGUiLCJldnQiLCJrZXkiLCJjbG9zZU1vZGFsIiwiaGFuZGxlT3ZlcmxheSIsInRhcmdldCIsImluY2x1ZGVzIiwib3Blbk1vZGFsIiwibW9kYWwiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm5hbWUiLCJsaW5rIiwiZm9yRWFjaCIsImNhcmQiLCJhZGROZXdDYXJkVG9TY3JlZW4iLCJwcm9maWxlRWRpdEJ1dHRvbiIsImVkaXRNb2RhbCIsImVkaXRNb2RhbENsb3NlQnV0dG9uIiwicHJvZmlsZU5hbWVFbGVtZW50IiwicHJvZmlsZUpvYkVsZW1lbnQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsInByb2ZpbGVGb3JtRWxlbWVudCIsIm5ld1Bvc3RCdXR0b24iLCJhZGRDYXJkTW9kYWwiLCJhZGRDYXJkTW9kYWxDbG9zZUJ1dHRvbiIsImNhcmRMaW5rIiwiY2FyZENhcHRpb24iLCJjYXJkT2JqZWN0IiwicHJlcGVuZCIsImRhdGEiLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJoYW5kbGVMaWtlQnV0dG9uQ2xpY2siLCJoYW5kbGVEZWxldGVCdXR0b25DbGljayIsImhhbmRsZUltYWdlUHJldmlld01vZGFsIiwiZ2V0Q2FyZEVsZW1lbnQiLCJhZGRDYXJkRm9ybUVsZW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRvZ2dsZSIsImNsb3Nlc3QiLCJpbWFnZVByZXZpZXdNb2RhbCIsImltYWdlRWxlbWVudE9mTW9kYWwiLCJ0ZXh0RWxlbWVudE9mTW9kYWwiLCJwcmV2aWV3TW9kYWxDbG9zZUJ0biIsImNsaWNrZWRJbWFnZSIsInNyYyIsImNhcHRpb25UZXh0IiwiYWx0IiwidmFsdWUiLCJpbnB1dCIsIm5ld0NhcmRPYmplY3QiLCJyZXNldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzZXRFdmVudExpc3RlbmVycyIsImlucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsImJ1dHRvbkVsZW1lbnQiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwic2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwic29tZSIsImhhc0ludmFsaWRJbnB1dCJdLCJzb3VyY2VSb290IjoiIn0=